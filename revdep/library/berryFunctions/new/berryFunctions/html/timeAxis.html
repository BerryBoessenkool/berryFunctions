<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Label date axis</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for timeAxis {berryFunctions}"><tr><td>timeAxis {berryFunctions}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Label date axis</h2>

<h3>Description</h3>

<p>Labels date axes at sensible intervals in the time domain of weeks to decades.
</p>


<h3>Usage</h3>

<pre>
timeAxis(
  side = 1,
  timeAxis = NA,
  origin = "1970-01-01",
  startyear = NULL,
  stopyear = NULL,
  n = 5,
  npm = NULL,
  npy = NA,
  format = "%d.%m.\n%Y",
  yformat = "%Y",
  labels = format.Date(d, format),
  ym = FALSE,
  mcex = 0.6,
  mmgp = c(3, 0, 0),
  midyear = FALSE,
  midmonth = FALSE,
  midargs = NULL,
  mgp = c(3, 1.5, 0),
  cex.axis = 1,
  tick = TRUE,
  tcl = par("tcl"),
  las = 1,
  ...
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>side</code></td>
<td>
<p>Which <code><a href="../../graphics/html/axis.html">axis</a></code> are to be labeled? (can be several). DEFAULT: 1</p>
</td></tr>
<tr valign="top"><td><code>timeAxis</code></td>
<td>
<p>Logical indicating whether the axis is <code><a href="../../base/html/DateTimeClasses.html">POSIXct</a></code>, not date.
DEFAULT: NA, meaning axis value &gt;1e5</p>
</td></tr>
<tr valign="top"><td><code>origin</code></td>
<td>
<p>Origin for<code><a href="../../base/html/as.Date.html">as.Date</a></code> and <code><a href="../../base/html/as.POSIXlt.html">as.POSIXct</a></code>. DEFAULT: &quot;1970-01-01&quot;</p>
</td></tr>
<tr valign="top"><td><code>startyear</code></td>
<td>
<p>Integer. starting year. DEFAULT: NULL = internally computed from <code><a href="../../graphics/html/par.html">par</a>("usr")</code></p>
</td></tr>
<tr valign="top"><td><code>stopyear</code></td>
<td>
<p>Ditto for ending year. DEFAULT: NULL</p>
</td></tr>
<tr valign="top"><td><code>n</code></td>
<td>
<p>Approximate number of labels that should be printed (as in <code><a href="../../base/html/pretty.html">pretty</a></code>). DEFAULT: 5</p>
</td></tr>
<tr valign="top"><td><code>npm</code></td>
<td>
<p>Number of labels per month, overrides n. DEFAULT: NULL = internally computed.</p>
</td></tr>
<tr valign="top"><td><code>npy</code></td>
<td>
<p>Number of labels per year, overrides npm and n. DEFAULT: NA</p>
</td></tr>
<tr valign="top"><td><code>format</code></td>
<td>
<p>Format of date, see details in <code><a href="../../base/html/strptime.html">strptime</a></code>. DEFAULT: &quot;%d.%m.\n%Y&quot;</p>
</td></tr>
<tr valign="top"><td><code>yformat</code></td>
<td>
<p>Format of year if <code>ym=TRUE</code>.
Use <code>yformat=" "</code> (with space) to suppress year labeling.
DEFAULT: &quot;%Y&quot;</p>
</td></tr>
<tr valign="top"><td><code>labels</code></td>
<td>
<p>labels. DEFAULT: format.Date(d, format)</p>
</td></tr>
<tr valign="top"><td><code>ym</code></td>
<td>
<p>Label months with first letter at the center of the month and year at center below.
Sets midyear and midmonth to TRUE. Uses <code>labels</code> and <code>format</code>
for the years, but ignores them for the months. DEFAULT: FALSE</p>
</td></tr>
<tr valign="top"><td><code>mcex</code></td>
<td>
<p><code>cex.axis</code> for month labels if ym=TRUE. DEFAULT: 0.6</p>
</td></tr>
<tr valign="top"><td><code>mmgp</code></td>
<td>
<p><code>mgp</code> for month labels if ym=TRUE. DEFAULT: 3,0,0</p>
</td></tr>
<tr valign="top"><td><code>midyear</code></td>
<td>
<p>Place labels in the middle of the year? if TRUE, format default is &quot;%Y&quot;. DEFAULT: FALSE</p>
</td></tr>
<tr valign="top"><td><code>midmonth</code></td>
<td>
<p>Place labels in the middle of the month? if TRUE, format default is &quot;%m\n%Y&quot;. DEFAULT: FALSE</p>
</td></tr>
<tr valign="top"><td><code>midargs</code></td>
<td>
<p>List of arguments passed to <code><a href="../../graphics/html/axis.html">axis</a></code> for the year-start lines without labels. DEFAULT: NULL</p>
</td></tr>
<tr valign="top"><td><code>mgp</code></td>
<td>
<p>MarGinPlacement, see <code><a href="../../graphics/html/par.html">par</a></code>. The second value is for label distance to axis. DEFAULT: c(3,1.5,0)</p>
</td></tr>
<tr valign="top"><td><code>cex.axis</code></td>
<td>
<p>Character EXpansion (letter size). DEFAULT: 1</p>
</td></tr>
<tr valign="top"><td><code>tick</code></td>
<td>
<p>Draw tick lines? DEFAULT: TRUE</p>
</td></tr>
<tr valign="top"><td><code>tcl</code></td>
<td>
<p>Tick length (negative to go below axis) in text line height units like mgp[2]
Changed to -2.5 for year borders if ym=TRUE. DEFAULT: par(&quot;tcl&quot;)</p>
</td></tr>
<tr valign="top"><td><code>las</code></td>
<td>
<p>LabelAxisStyle for orientation of labels. DEFAULT: 1 (upright)</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Further arguments passed to <code><a href="../../graphics/html/axis.html">axis</a></code>, like <code>lwd, col.ticks, hadj, lty</code>, ...</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The dates that were labeled
</p>


<h3>Author(s)</h3>

<p>Berry Boessenkool, <a href="mailto:berry-b@gmx.de">berry-b@gmx.de</a>, Feb 2015, update labels and midyear Dec 2015
</p>


<h3>See Also</h3>

<p><code><a href="monthLabs.html">monthLabs</a></code> for the numbercrunching itself, <code><a href="../../graphics/html/axis.POSIXct.html">axis.Date</a></code> with defaults that are less nice.
</p>


<h3>Examples</h3>

<pre>

set.seed(007) # for reproducibility
Date1 &lt;- as.Date("2013-09-25")+sort(sample(0:150, 30))
plot(Date1, cumsum(rnorm(30)), type="l", xaxt="n", ann=FALSE)
timeAxis(side=1)
timeAxis(1, npm=2, cex.axis=0.5, col.axis="red") # fix number of labels per month

DateYM &lt;- as.Date("2013-04-25")+0:500
plot(DateYM, cumsum(rnorm(501)), type="l", xaxt="n", ann=FALSE)

monthAxis() # see more examples there - it largely replaces timeAxis!!!

plot(Date1, cumsum(rnorm(30)), type="l", xaxt="n", ann=FALSE)
timeAxis(labels=FALSE, col.ticks=2)
timeAxis(1, format=" ")  # equivalent to axis(labels=FALSE)
timeAxis(1)
d &lt;- timeAxis(1, labels=letters[1:24], mgp=c(3,2.5,0))
d # d covers the full year, thus is longer than n=5

Date2 &lt;- as.Date("2011-07-13")+sort(sample(0:1400, 50))
plot(Date2, cumsum(rnorm(50)), type="l", xaxt="n", ann=FALSE)
timeAxis(npy=12, format=" ")  # fix number of labels per year
timeAxis(tcl=-0.8, lwd.ticks=2, format="%Y/%m", mgp=c(3,1,0))
timeAxis(format="", mgp=c(3,2,0)) # International Date format YYYY-mm-dd

plot(Date2, cumsum(rnorm(50)), type="l", xaxt="n", ann=FALSE)
timeAxis(midyear=TRUE)
abline(v=monthLabs(npm=1), col=8)

Date3 &lt;- as.Date("2011-07-13")+sort(sample(0:1200, 50))
plot(Date3, cumsum(rnorm(50)), type="l", xaxt="n", ann=FALSE)
timeAxis(1, n=4, font=2)
timeAxis(1, col.axis=3) # too many labels with default n=5

monthAxis(side=3) # again: use monthAxis, it is usually nicer!

# mid-year labels:
plot(Date3, cumsum(rnorm(50)), type="l", xaxt="n", ann=FALSE)
timeAxis(midyear=TRUE, midargs=list(tcl=-1.2))

# mid-month labels:
plot(Date1, cumsum(rnorm(30)), type="l", xaxt="n", ann=FALSE)
timeAxis(midmonth=TRUE)

# Time axis instead of date axis:
plot(as.POSIXct(Sys.time()+c(0,10)*24*3600), 1:2, xaxt="n")
timeAxis(n=3)
timeAxis()

</pre>

<hr /><div style="text-align: center;">[Package <em>berryFunctions</em> version 1.19.0 <a href="00Index.html">Index</a>]</div>
</body></html>
